---
import ComponentProperties from "../components/ComponentProperties/index.astro";
import ComponentViewer from "../components/ComponentViewer/index.astro";
import LibraryLayout from "./LibraryLayout.astro";

const { frontmatter, schema, examples = [] } = Astro.props;
const meta = schema?.meta?.();

console.log("ComponentLayout received examples:", examples.length);
---

<LibraryLayout frontmatter={frontmatter}>
  <h1>{meta.title}</h1>
  <p>{meta.description}</p>

  {examples.length > 0 && <ComponentViewer component_examples={examples} title={meta.title} />}

  <h2>Properties</h2>
  <ComponentProperties shape={schema?.shape} />

  <slot />
</LibraryLayout>
